<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login - NGS System</title>
  
  <!-- CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/auth.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='icon/dna.png') }}" rel="icon" type="image/png">
  <script src="{{ url_for('static', filename='js/login.js') }}"></script>
</head>

<body class="auth-page">
<div class="auth-container">
  
  <!-- Brand Section -->
  <div class="brand-section">
    <div class="brand-icon">
      <i class="fas fa-dna"></i>
    </div>
    <h1 class="brand-title">NGS System</h1>
    <p class="brand-subtitle">Next Generation Sequencing Portal</p>
  </div>

  <!-- Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div id="flashMessages">
        {% for category, message in messages %}
          <div class="flash {{ category }}" role="alert">
            <i class="fas fa-info-circle me-2"></i>{{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <!-- Login Form -->
  <form method="POST" id="loginForm" novalidate>
    {{ form.hidden_tag() }}
    
    <div class="form-floating mb-3">
      {{ form.username(
        class="form-control",
        id="floatingUsername", 
        placeholder="Benutzername", 
        required=true,
        autocomplete="username"
      ) }}
      {{ form.username.label(for="floatingUsername") }}
      <div class="invalid-feedback">
        Bitte geben Sie einen Benutzernamen ein.
      </div>
    </div>
    
    <div class="form-floating mb-3">
      {{ form.password(
        class="form-control",
        id="floatingPassword", 
        placeholder="Passwort", 
        required=true,
        autocomplete="current-password"
      ) }}
      {{ form.password.label(for="floatingPassword") }}
      <div class="invalid-feedback">
        Bitte geben Sie ein Passwort ein.
      </div>
    </div>

    <div class="d-grid mb-3">
      {{ form.submit(class="btn btn-primary", id="loginBtn") }}
    </div>
  </form>

  <!-- Divider -->
  <div class="divider">
    <span>oder</span>
  </div>

  <!-- Register Link -->
  <div class="register-link">
    <p class="mb-0">
      Noch kein Account? 
      <a href="{{ url_for('auth.register') }}">
        <i class="fas fa-user-plus me-1"></i>Jetzt registrieren
      </a>
    </p>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/login.js') }}"></script>
</body>
</html>